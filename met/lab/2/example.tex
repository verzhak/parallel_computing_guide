
В качестве демонстрационного примера рассмотрим моделирование гамма - распределения (распределения Эрланга) с помощью датчика псевдослучайных чисел, равномерно распределенных на диапазоне $[0 ;~ 1)$.

Плотность гамма - распределения вычисляется по формуле \eqref{gamma:distrib}.
\begin{gather}
	\label{gamma:distrib}
	f(x) = \left\{
	\begin{aligned}
		\frac{1}{\beta^\alpha \Gamma(\alpha)} & e^{- x / \beta} x^{\alpha - 1}, & ~ \text{если} & ~ x \ge 0 \\
		& 0, & ~ \text{если} & ~ x < 0
	\end{aligned}
	\right. \\
	\alpha, \beta \in \mathbb{R} \notag
\end{gather}

В формуле \eqref{gamma:distrib} функция $\Gamma(t)$ суть гамма - функция, вычисляемая по формуле \eqref{gamma:func}.

Математическое ожидание случайной величины с гамма - распределением равно $\alpha \beta$. Дисперсия случайной величины с гамма - распределением равна $\alpha \beta^2$.

Для упрощения расчетов выберем $\alpha \in \mathbb{N}$.

Генерирование реализации псевдослучайной величины с гамма - распределением происходит в два шага:

\begin{enumerate}

	\item Генерирование $\alpha$ реализаций псевдослучайной величины с показательным распределением.

		Генерирование реализации $\xi$ псевдослучайной величины с показательным распределением происходит по формуле \eqref{exp-distrib-in-gamma}.
		\begin{gather}
			\xi = - \beta \ln(\theta) \label{exp-distrib-in-gamma}
		\end{gather}

		Здесь $\theta$ реализация случайной величины с равномерным распределением на диапазоне $[0 ;~ 1]$ (в рассматриваемом примере - на диапазоне $[0 ;~ 1)$);
	
	\item Генерирование реализации псевдослучайной величины с гамма - распределением.

		Реализация псевдослучайной величины с гамма - распределением вычисляется как сумма реализаций псевдослучайной величины с показательным распределением, вычисленных на предыдущем шаге.

\end{enumerate}

Исходный код демонстрационной программы приведен в листинге \ref{listing:openmpi:src}.

Рисунком \ref{image:openmpi:demo-cr} проиллюстрирован процесс сборки и выполнения демонстрационной программы. На рисунках \ref{image:openmpi:htop:1}, \ref{image:openmpi:htop:2} и \ref{image:openmpi:htop:3} приведен вывод утилиты htop, запущенной в удаленной вычислительной системе в моменты выполнения вычислений - отчетливо видно, что отдельные части поставленного задания в удаленной вычислительной системе выполняют, соответственно, один, два и четыре вычислительных потока.

%\mysource{../src/demo_2/openmpi/main.c}{openmpi:src}{Демонстрационная программа} % TODO расскомментировать
%\mimage{openmpi:demo-cr}{TODO}{Сборка и выполнение демонстрационной программы}{}
%\mimage{openmpi:htop:1}{TODO}{Вывод утилиты htop в момент выполнения вычислений двумя вычислительными потоками}{}
%\mimage{openmpi:htop:2}{TODO}{Вывод утилиты htop в момент выполнения вычислений четырьмя вычислительными потоками}{}
%\mimage{openmpi:htop:3}{TODO}{Вывод утилиты htop в момент выполнения вычислений восемью вычислительными потоками}{}


