
В качестве демонстрационного примера рассмотрим моделирование распределения Стьюдента с помощью датчика псевдослучайных чисел, равномерно распределенных на диапазоне $[0 ;~ 1)$.

Плотность распределения Стьюдента вычисляется по формуле \eqref{student:distrib}.
\begin{gather}
	f(x) = \frac{\Gamma((N + 1) / 2)}{\sqrt{\pi N} ~ \Gamma(N / 2)} \left( 1 + \frac{x^2}{N} \right) ^{- (N + 1) / 2} \label{student:distrib} \\
	N \in \mathbb{N} ;~ N > 2 \notag 
\end{gather}

Здесь $N$ суть число степеней свободы распределения Стьюдента. 

В формуле \eqref{student:distrib} функция $\Gamma(t)$ суть гамма - функция, вычисляемая по формуле \eqref{gamma:func}.
\begin{gather}
	\Gamma(t) = \int \limits_0^{\infty} x^{t - 1} e^{-x} \, dx \label{gamma:func}
\end{gather}

Математическое ожидание случайной величины, распределенной по Стьюденту, равно 0. Ее дисперсия, в случае, если число степеней свободы больше двух, равна $\dfrac{N}{N - 2}$.

Генерирование реализации псевдослучайной величины, распределенной по Стьюденту с $N$ степенями свободы ($N > 2$), происходит в несколько шагов:

\begin{enumerate}

	\item Генерирование $(N + 1)$ реализаций $\{\xi_1, \xi_2, ..., \xi_{N + 1}\}$ псевдослучайных величин, распределенных нормально на диапазоне $(-1 ;~ 1)$.

	Для генерирования реализации нормально распределенной псевдослучайной величины с помощью датчика псевдослучайных равномерно распределенных чисел используется центральная предельная теорема: сумма реализаций бесконечного числа одинаково распределенных независимых случайных величин распределена нормально. В данном случае, бесконечная сумма заменяется суммой 12-ти реализаций псевдослучайной величины, равномерно распределенной на диапазоне $(-1 ;~ 1)$;
	
	\item Генерирование реализации $x$ псевдослучайной величины, распределенной по Стьюденту.

	Генерирование реализации $x$ псевдослучайной величины, распределенной по Стьюденту, осуществляется по формуле \eqref{student:x}.
	\begin{gather}
		x = \frac{\xi_{N + 1}}{\sqrt{\frac{1}{n}\sum \limits_{i = 1}^N \xi_i^2}} \label{student:x}
	\end{gather}

\end{enumerate}

Исходный код демонстрационной программы приведен в листинге \ref{listing:openmp:src}.

Рисунком \ref{image:openmp:build} проиллюстрирован процесс сборки демонстрационной программы. Рисунками \ref{image:openmp:demo:1}, \ref{image:openmp:demo:2} и \ref{image:openmp:demo:3} проиллюстрированы тестовые запуски демонстрационной программы, в ходе которых поставленное задание выполняли один, два и четыре вычислительных потока соответственно.

\mysource{../src/demo_2/openmp/main.c}{openmp:src}{Исходный код демонстрационной программы} % TODO раскомментировать

\mimage{openmp:build}{15}{Сборка демонстрационной программы}{}

\newcommand{\openmpAex}[4]
{
	\begin{figure}

		\refstepcounter{figure}
		\label{image:openmp:demo:#1}

		\begin{tikzpicture}

			\node (nv) at (0, 0) {};
			\draw (nv.north west) + (0, 0)
			node (htop) [anchor = north west] {\includegraphics[]{image/#2.png}};
			\draw (nv.north east) + (0.95\linewidth, -8.5)
			node (run) [anchor = north east] {\includegraphics{image/#3.png}};
			\draw (htop.south west) + (1.5, -2.2)
			node [anchor = north west]
			{
				\begin{tabular}{c}
		
					Рисунок~\thefigure~---~Выполнение вычислений \\
					#4
			
				\end{tabular}
			};

		\end{tikzpicture}

	\end{figure}
}

\begin{landscape}

	\openmpAex{1}{8}{16}{одним вычислительным потоком}
	\openmpAex{2}{9}{17}{двумя вычислительными потоками}
	\openmpAex{3}{10}{18}{четыремя вычислительными потоками}

\end{landscape}

